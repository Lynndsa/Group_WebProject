% rebase('layout.tpl', title=title, year=year)

<!-- Основной портрет Стивена Кинга -->
<div class="hero-banner">
    <div class="hero-image">
        <img src="/static/images/Stephenbanner.jpg" alt="Стивен Кинг">
    </div>
    <div class="hero-overlay">
        <h1 class="hero-title">Стивен Эдвин Кинг</h1>
        <p class="hero-subtitle">1947 — настоящее время</p>
        <p class="hero-description">Мастер ужасов • Легенда литературы • Король кошмаров</p>
    </div>
</div>

<!-- Биография -->
<div class="about-content">
    <h3>Ранние годы</h3>
    <p>Стивен Эдвин Кинг родился в Портленде, штат Мэн, в 1947 году, вторым сыном Дональда и Нелли Рут Пиллсбери Кинг. После развода родителей, когда Стивен был еще малышом, он и его старший брат Дэвид воспитывались матерью. Часть детства прошла в Форт-Уэйне, Индиана, и в Стратфорде, Коннектикут. Когда Стивену исполнилось одиннадцать, семья окончательно вернулась в Дарем, штат Мэн, где он посещал начальную школу, а затем среднюю школу Лиссабон-Фоллс, которую окончил в 1966 году.</p>
    
    <h3>Университетские годы</h3>
    <p>Со второго курса Университета штата Мэн в Ороно Стивен вел еженедельную колонку в университетской газете и участвовал в студенческой политике, будучи членом Студенческого сената. Он поддерживал антивоенное движение, считая войну во Вьетнаме неконституционной. В 1970 году получил степень бакалавра английского языка с правом преподавания. Призывная комиссия признала его негодным к военной службе из-за высокого давления, плохого зрения, плоскостопия и перфорации барабанных перепонок.</p>
    
    <h3>Начало карьеры и семья</h3>
    <p>В январе 1971 года Стивен женился на Табите Спраус, с которой познакомился в университетской библиотеке. Первый профессиональный рассказ "Стеклянный пол" был продан в 1967 году. В 1971 году начал преподавать английский в Академии Хэмпдена, продолжая писать по вечерам и в выходные. Весной 1973 года издательство Doubleday приняло к публикации роман "Кэрри", что позволило ему оставить преподавание и полностью посвятить себя писательству.</p>
    
    <h3>Творческий путь</h3>
    <p>После публикации "Кэрри" в 1974 году семья переехала в Колорадо, где был написан роман "Сияние". Вернувшись в Мэн в 1975 году, Стивен создал "Противостояние" и "Мертвую зону". В последующие годы были написаны десятки романов и рассказов, многие из которых стали бестселлерами и были экранизированы. Среди наиболее известных произведений: "Оно", "Кладбище домашних животных", "Зеленая миля", "Темная Башня" и многие другие.</p>
    
    <h3>Семья</h3>
    <p>У Стивена и Табиты трое детей: Наоми Рэйчел, Джо Хилл и Оуэн Филлип, а также четверо внуков. Оба сына также стали писателями. Семья попеременно живет во Флориде зимой и в своих домах в Бангоре и Сентер-Ловелле (Мэн) в остальное время года.</p>
    
    <h3>Интересные факты</h3>
    <p>Стивен имеет шотландско-ирландские корни, его рост около 193 см, вес около 91 кг. У него голубые глаза и густые черные волосы с проседью. Он носит очки с детства и иногда отращивает бороду. Стивен снимался в эпизодических ролях в экранизациях своих произведений, а в 1985 году дебютировал как режиссер фильма "Максимальное ускорение".</p>
    
    <h3>Благотворительность и признание</h3>
    <p>Стивен и Табита предоставляют стипендии местным старшеклассникам и поддерживают многие благотворительные организации. В 2003 году Стивен получил медаль Национального книжного фонда за выдающийся вклад в американскую словесность, а в 2014 году — Национальную медаль искусств. Его вклад в литературу и культуру неоценим, а книги переведены на десятки языков и продолжают вдохновлять читателей по всему миру.</p>
    
    <p class="conclusion">Стивен Кинг продолжает писать и радовать поклонников новыми произведениями, оставаясь одним из самых популярных и влиятельных авторов современности. Его творчество охватывает множество жанров: ужасы, фэнтези, научную фантастику, детективы и реалистическую прозу.</p>
</div>

<!-- Галерея фотографий -->
<h2 class="gallery-title">Фотогалерея</h2>

<div class="photo-gallery">
    <!-- Детские фотографии -->
    <div class="gallery-section">
        <h3>Детские годы</h3>
        <div class="gallery-row">
            <div class="gallery-item">
                <img src="/static/images/stephenkingchild.jpg" alt="Стивен Кинг в детстве" onclick="openModal(this)">
                <p class="photo-caption">Стивен в возрасте 5 лет</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stephenkingwithbro.png" alt="Стивен Кинг с братом" onclick="openModal(this)">
                <p class="photo-caption">Стивен (слева) со старшим братом Дэвидом</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stephenkingschool.jpg" alt="Стивен Кинг в школе" onclick="openModal(this)">
                <p class="photo-caption">Школьные годы, Лиссабон-Фоллс</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stivenkingsmamojibratom.jpg" alt="Стивен Кинг с матерью и братом" onclick="openModal(this)">
                <p class="photo-caption">Стивен с матерью и братом</p>
            </div>
        </div>
    </div>
    
    <!-- Фотографии за работой -->
    <div class="gallery-section">
        <h3>За работой</h3>
        <div class="gallery-row">
            <div class="gallery-item">
                <img src="/static/images/stivenkinginhisroom.jpg" alt="Стивен Кинг пишет" onclick="openModal(this)">
                <p class="photo-caption">В своем кабинете, 1980-е</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stephenkingandhistypewriter.jpg" alt="Стивен Кинг за печатной машинкой" onclick="openModal(this)">
                <p class="photo-caption">За печатной машинкой, 1970-е</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stivenkingpishetbook.jpg" alt="Стивен Кинг с рукописью" onclick="openModal(this)">
                <p class="photo-caption">Работа над рукописью</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stephenkingwork.jpg" alt="Стивен Кинг с своем кабинете дома" onclick="openModal(this)">
                <p class="photo-caption">Стивен Кинг за работой</p>
            </div>
        </div>
    </div>
    
    <!-- Семейные фотографии -->
    <div class="gallery-section">
        <h3>Семья</h3>
        <div class="gallery-row">
            <div class="gallery-item">
                <img src="/static/images/stivenkingwithwife.jpg" alt="Стивен Кинг с женой" onclick="openModal(this)">
                <p class="photo-caption">С женой Табитой</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stivenkingfamily.jpg" alt="Стивен Кинг с детьми" onclick="openModal(this)">
                <p class="photo-caption">С детьми Наоми, Джо и Оуэном</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stivenkingfamilynew.jpg" alt="Стивен Кинг вместе со своей семьей, недавнее фото" onclick="openModal(this)">
                <p class="photo-caption">С семьей</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stivenkingwithwifenew.jpeg" alt="Стивен Кинг и Табита" onclick="openModal(this)">
                <p class="photo-caption">Табита и Стивен, недавнее фото</p>
            </div>
        </div>
    </div>
    
    <!-- На съемочной площадке -->
    <div class="gallery-section">
        <h3>На съемочной площадке</h3>
        <div class="gallery-row">
            <div class="gallery-item">
                <img src="/static/images/stivenkingono.jpg" alt="Стивен Кинг на съемках" onclick="openModal(this)">
                <p class="photo-caption">На съемках "Оно", 1990</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/maxspeed.jpg" alt="Стивен Кинг режиссирует" onclick="openModal(this)">
                <p class="photo-caption">Режиссирует "Максимальное ускорение"</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/stivenkinginmovie.jpeg" alt="Камео в фильме" onclick="openModal(this)">
                <p class="photo-caption">Камео в "Калейдоскопе ужасов"</p>
            </div>
            <div class="gallery-item">
                <img src="/static/images/withactor.jpg" alt="Стивен Кинг с актерами" onclick="openModal(this)">
                <p class="photo-caption">С актерами на съемках</p>
            </div>
        </div>
    </div>
</div>

<!-- Модальное окно для увеличения фото -->
<div id="modal" class="modal" onclick="closeModal()">
    <span class="close">&times;</span>
    <img class="modal-content" id="modal-img">
    <div id="caption" class="modal-caption"></div>
</div>

<!-- Стили -->

<style>
    /* === ПЕРЕМЕННЫЕ И БАЗА === */
    :root {
        --bg-color: #0a0a0a;
        --card-bg: #1a1a1a;
        --accent-color: #bb0a0a;
        --text-main: #f0f0f0;
        --text-sec: #a0a0a0;
        
        --font-serif: 'Playfair Display', serif;
        --font-sans: 'Inter', sans-serif;
        --font-mono: 'Courier Prime', monospace;
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    html, body {
        background-color: var(--bg-color);
        color: var(--text-main);
        font-family: var(--font-sans);
        line-height: 1.6;
    }
    
    .container {
        background: transparent !important;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }
    
    /* === HERO BANNER === */
   .hero-banner {
    position: relative;
    width: 100%;
    height: 500px;
    overflow: hidden;
    margin-bottom: 60px;
}

.hero-image {
    width: 100%;
    height: 100%;
    position: relative;
}

.hero-image::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.4);
    z-index: 1;
}

.hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

.hero-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 60px 40px 40px;
    background: linear-gradient(transparent, rgba(10,10,10,0.9));
    z-index: 2;
}
    
    .hero-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 60px 40px 40px;
        background: linear-gradient(transparent, rgba(10,10,10,0.95));
    }
    
    .hero-title {
        font-family: var(--font-serif);
        font-size: 4em;
        color: var(--text-main);
        margin: 0 0 10px;
        text-shadow: 2px 2px 10px rgba(0,0,0,0.8);
        letter-spacing: 1px;
    }
    
    .hero-subtitle {
        font-family: var(--font-mono);
        font-size: 1.3em;
        color: var(--accent-color);
        margin: 0 0 15px;
        letter-spacing: 2px;
    }
    
    .hero-description {
        font-family: var(--font-sans);
        font-size: 1.1em;
        color: var(--text-sec);
        margin: 0;
        max-width: 700px;
    }
    
    /* === БИОГРАФИЯ === */
    .about-content {
        max-width: 900px;
        margin: 0 auto 80px;
        padding: 40px;
        background: var(--card-bg);
        border-radius: 10px;
        border: 1px solid #2a2a2a;
    }
    
    .about-content h3 {
        font-family: var(--font-serif);
        color: var(--text-main);
        font-size: 1.5em;
        margin: 35px 0 15px;
        padding-left: 15px;
        border-left: 4px solid var(--accent-color);
    }
    
    .about-content h3:first-child {
        margin-top: 0;
    }
    
    .about-content p {
        color: var(--text-sec);
        font-size: 16px;
        margin-bottom: 20px;
        text-align: justify;
        line-height: 1.8;
    }
    
    .conclusion {
        font-weight: 600;
        font-style: italic;
        color: var(--text-main);
        border-top: 1px solid #333;
        padding-top: 20px;
        margin-top: 30px;
    }
    
    /* === ГАЛЕРЕЯ === */
    .gallery-title {
        text-align: center;
        font-family: var(--font-serif);
        font-size: 2.5em;
        color: var(--text-main);
        margin: 80px 0 40px;
        position: relative;
    }
    
    .gallery-title:after {
        content: "";
        display: block;
        width: 100px;
        height: 4px;
        background: var(--accent-color);
        margin: 20px auto 0;
    }
    
    .photo-gallery {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px 60px;
    }
    
    .gallery-section {
        margin-bottom: 60px;
    }
    
    .gallery-section h3 {
        font-family: var(--font-serif);
        color: var(--text-main);
        font-size: 1.5em;
        margin-bottom: 25px;
        padding-left: 15px;
        border-left: 4px solid var(--accent-color);
    }
    
    .gallery-row {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: center;
    }
    
    .gallery-item {
        flex: 0 1 calc(25% - 20px);
        min-width: 250px;
        background: var(--card-bg);
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid #2a2a2a;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s;
        cursor: pointer;
    }
    
    .gallery-item:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 30px rgba(187, 10, 10, 0.25);
        border-color: var(--accent-color);
    }
    
    .gallery-item img {
        width: 100%;
        height: 220px;
        object-fit: cover;
        display: block;
        transition: transform 0.3s;
    }
    
    .gallery-item:hover img {
        transform: scale(1.05);
    }
    
    .photo-caption {
        padding: 15px;
        text-align: center;
        font-size: 14px;
        color: var(--text-sec);
        background: #111;
        font-family: var(--font-sans);
        margin: 0;
    }
    
    /* === МОДАЛЬНОЕ ОКНО === */
   /* Модальное окно */
.modal {
    display: none;
    position: fixed;
    z-index: 10000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(10, 10, 10, 0.95);
    overflow: auto;
    
    /* Центрирование контента */
    align-items: center;
    justify-content: center;
    display: flex; /* Добавляем flex для центрирования */
}

.modal-content {
    max-width: 90%;
    max-height: 90vh;
    border: 3px solid var(--accent-color);
    border-radius: 5px;
    margin: auto;
    
    /* Анимация появления */
    animation: zoomIn 0.3s ease;
}

@keyframes zoomIn {
    from { 
        transform: scale(0.9); 
        opacity: 0; 
    }
    to { 
        transform: scale(1); 
        opacity: 1; 
    }
}

.modal-caption {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    color: var(--text-main);
    font-family: var(--font-sans);
    font-size: 16px;
    background: rgba(10,10,10,0.9);
    padding: 12px 30px;
    border-radius: 5px;
    max-width: 80%;
    text-align: center;
    border: 1px solid var(--accent-color);
}

.close {
    position: absolute;
    top: 20px;
    right: 40px;
    color: var(--text-main);
    font-size: 50px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s;
    font-family: var(--font-sans);
    line-height: 1;
    z-index: 10001;
}

.close:hover {
    color: var(--accent-color);
}
    
    .close {
        position: absolute;
        top: 20px;
        right: 40px;
        color: var(--text-main);
        font-size: 50px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s;
        font-family: var(--font-sans);
        line-height: 1;
    }
    
    .close:hover {
        color: var(--accent-color);
    }
    
    /* === АДАПТИВНОСТЬ === */
    @media (max-width: 1024px) {
        .gallery-item {
            flex: 0 1 calc(33.33% - 20px);
        }
        
        .hero-title {
            font-size: 3em;
        }
    }
    
    @media (max-width: 768px) {
        .gallery-item {
            flex: 0 1 calc(50% - 20px);
        }
        
        .hero-banner {
            height: 400px;
        }
        
        .hero-title {
            font-size: 2.2em;
        }
        
        .hero-subtitle {
            font-size: 1.1em;
        }
        
        .about-content {
            padding: 25px;
            margin: 0 15px 60px;
        }
        
        .gallery-title {
            font-size: 2em;
        }
    }
    
    @media (max-width: 480px) {
        .gallery-item {
            flex: 0 1 100%;
        }
        
        .hero-banner {
            height: 350px;
        }
        
        .hero-title {
            font-size: 1.8em;
        }
        
        .hero-description {
            font-size: 1em;
        }
        
        .about-content h3 {
            font-size: 1.3em;
        }
    }
</style>
<script src="/static/scripts/modal.js"></script>